# 木風之谷 - 遊戲介面說明

## 專案結構

```
Final_Project/
├── main.cpp              # 主程式入口
├── world.h               # 遊戲世界資料結構
├── scenes/               # 場景介面
│   ├── MainScene.h       # 主選單場景
│   └── GameScene.h       # 遊戲主場景
└── ui/                   # 彈出介面
    ├── BackpackUI.h      # 背包介面 (B鍵)
    ├── EquipmentUI.h     # 裝備介面 (E鍵)
    ├── EnhancementUI.h   # 強化介面 (U鍵)
    ├── ShopUI.h          # 商店介面 (S鍵)
    ├── StatsUI.h         # 角色狀態介面 (C鍵)
    └── MapUI.h           # 世界地圖介面 (M鍵)
```

## 已實現功能

### 1. 主選單 (MainScene)
- 顯示遊戲標題「木風之谷」
- 開始遊戲按鈕

### 2. 遊戲場景 (GameScene)
- **左上角**: 玩家資訊 (職業、等級、金幣)
- **右上角**: 小地圖
- **中間**: 遊戲畫面區域
- **左下角**: HP/MP 血量魔力條
- **右下角**: 快捷鍵按鈕

### 3. 六個彈出介面

#### 背包介面 (B鍵)
- 顯示物品欄位
- ESC 或「關閉」按鈕關閉

#### 裝備介面 (E鍵)
- 顯示武器、頭盔、上衣、褲子、鞋子欄位
- ESC 或「關閉」按鈕關閉

#### 強化介面 (U鍵)
- 裝備強化功能
- 顯示強化成功率和所需金幣
- ESC 或「關閉」按鈕關閉

#### 商店介面 (S鍵)
- 商品列表 (補血藥、補魔藥、武器、防具)
- ESC 或「關閉」按鈕關閉

#### 角色狀態介面 (C鍵)
- 顯示角色屬性 (力量、敏捷、智力、幸運)
- 顯示戰鬥數值 (攻擊力、防禦力、命中率、迴避率)
- ESC 或「關閉」按鈕關閉

#### 世界地圖介面 (M鍵)
- 顯示世界地圖結構
- 顯示當前位置
- ESC 或「關閉」按鈕關閉

## 快捷鍵

在遊戲場景中：
- **B**: 開啟背包
- **E**: 開啟裝備
- **U**: 開啟強化
- **S**: 開啟商店
- **C**: 開啟角色狀態
- **M**: 開啟世界地圖
- **ESC**: 關閉任何彈出視窗

## 編譯方式

使用 VS Code 的建置任務或手動執行：

```bash
g++.exe -fdiagnostics-color=always -g main.cpp -o main.exe -IC:/ftxui/include -LC:/ftxui/lib -lftxui-component -lftxui-dom -lftxui-screen
```

## 執行程式

```bash
.\main.exe
```

## 技術架構

- **FTXUI**: C++ 終端介面函式庫
- **模組化設計**: 每個介面獨立為 .h 檔案
- **Factory Pattern**: 使用靜態 Create() 方法建立 Component
- **事件驅動**: 使用 CatchEvent 處理快捷鍵
- **分層渲染**: 使用 dbox + dim 實現彈出視窗效果

## 下一步開發

1. 實作背包系統 (物品增刪)
2. 實作裝備系統 (穿脫裝備)
3. 實作強化系統 (裝備升級)
4. 實作商店系統 (買賣功能)
5. 實作 2D 地圖捲動與角色移動
6. 加入戰鬥系統
7. 加入技能系統
8. 實作三種職業 (法師、弓箭手、盜賊)
